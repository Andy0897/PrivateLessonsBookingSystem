<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Appointments</h1>
<input type="date" id="date" onchange="updateAppointments(this.value)">
<div id="appointments">

</div>
</body>
</html>
<script>
    function updateAppointments(date) {
        fetch(`/appointments/update-daily-appointments/${date}/[[${teacherProfile.id}]]`)
        .then(response => response.json())
        .then(appointments => {
            const appointmentsBlock = document.getElementById("appointments");
            appointments.forEach(appointment => {
                const p1 = document.createElement("p");
                p1.textContent = appointment.student.firstName + ' ' + appointment.student.lastName;
                const p2 = document.createElement("p");
                p2.textContent = appointment.date + ' ' + appointment.time;
                appointmentsBlock.appendChild(p1);
                appointmentsBlock.appendChild(p2);
            });
        })
        .catch(error => console.error("Error fetching free times:", error));
    }
</script>